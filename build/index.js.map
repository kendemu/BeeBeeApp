{"version":3,"sources":["../index.js"],"names":["app","port","process","env","get","req","res","next","all","posts","send","resolve","then","open","Promise","migrate","force","catch","err","console","error","stack","finally","listen"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;;;;;AAEA,IAAMA,MAAM,wBAAZ;AACA,IAAMC,OAAOC,QAAQC,GAAR,CAAYF,IAAZ,IAAoB,IAAjC;;AAEAD,IAAII,GAAJ,CAAQ,QAAR;AAAA,wDAAkB,iBAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAEG,iBAAGC,GAAH,CAAO,qBAAP,CAFH;;AAAA;AAEXC,uBAFW;;AAGjBH,sBAAII,IAAJ,CAASD,KAAT;AAHiB;AAAA;;AAAA;AAAA;AAAA;;AAKjBF;;AALiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAlB;;AAAA;AAAA;AAAA;AAAA;;AASA,mBAAQI,OAAR,GACKC,IADL,CACU;AAAA,UAAM,iBAAGC,IAAH,CAAQ,SAAR,EAAmB,EAACC,2BAAD,EAAnB,CAAN;AAAA,CADV,EAEKF,IAFL,CAEU;AAAA,UAAM,iBAAGG,OAAH,CAAW,EAACC,OAAO,MAAR,EAAX,CAAN;AAAA,CAFV,EAGKC,KAHL,CAGW,UAACC,GAAD;AAAA,UAASC,QAAQC,KAAR,CAAcF,IAAIG,KAAlB,CAAT;AAAA,CAHX,EAIEC,OAJF,CAIU;AAAA,UAAMtB,IAAIuB,MAAJ,CAAWtB,IAAX,CAAN;AAAA,CAJV","file":"index.js","sourcesContent":["import express from 'express';\nimport db from 'sqlite';\nimport Promise from 'bluebird';\n\nconst app = express();\nconst port = process.env.port || 3000;\n\napp.get('/posts', async (req, res, next) => {\n    try {\n\tconst posts = await db.all('SELECT * FROM Toast');\n\tres.send(posts);\n    } catch (err) {\n\tnext(err)\n    }\n});\n\nPromise.resolve()\n    .then(() => db.open('menu.db', {Promise}))\n    .then(() => db.migrate({force: 'last'}))\n    .catch((err) => console.error(err.stack))\n\t.finally(() => app.listen(port));\n"]}